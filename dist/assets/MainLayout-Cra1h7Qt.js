import{_ as y}from"./_plugin-vue_export-helper-DRcqrMy4.js";/* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                     */import"./el-tooltip-l0sNRNKZ.js";/* empty css                 */import{u as J,r as E,c as P,a as Q,o as W,b as f,d as s,e as a,f as X,g as t,w as n,h as u,E as Y,i as Z,j as l,k as tt,l as ot,m as nt,n as et,F as b,p as st,q as lt,t as B,s as ut,v as rt,x as at,y as it,z as dt,A as _}from"./index-COpeM2_A.js";import{g as pt}from"./message-C7Wo8Iap.js";const mt={class:"app-header"},_t={class:"header-container"},ct={class:"search-box"},ft={class:"nav-menu"},vt={class:"user-area"},kt={class:"user-avatar"},gt={class:"user-name"},wt={__name:"AppHeader",setup(C){const e=X(),d=Q(),p=J(),v=E(""),w=E(0),S=P(()=>{const i=d.path;return i.includes("/authors")?"authors":i.includes("/works")?"works":i.includes("/institutions")?"institutions":i.includes("/concepts")?"concepts":""}),$=()=>{v.value.trim()&&e.push({path:"/search",query:{keyword:v.value.trim()}})},A=i=>{switch(i){case"profile":e.push("/user");break;case"collections":e.push("/user/collections");break;case"history":e.push("/user/history");break;case"admin":e.push("/admin/applications");break;case"logout":p.logout();break}},I=async()=>{if(p.isLoggedIn)try{const i=await pt();w.value=i.data||0}catch(i){console.error("获取未读消息数失败",i)}};return W(()=>{I()}),(i,o)=>{const D=u("Reading"),r=Y,M=u("Search"),k=Z,V=ot,x=u("User"),g=nt,R=u("Document"),U=u("OfficeBuilding"),z=u("Connection"),L=et,N=u("Bell"),F=st,K=lt,h=u("ArrowDown"),c=it,q=u("Star"),H=u("Clock"),O=u("Setting"),j=u("SwitchButton"),T=ut,G=dt;return _(),f("header",mt,[s("div",_t,[s("div",{class:"logo",onClick:o[0]||(o[0]=m=>a(e).push("/"))},[t(r,{size:28,color:"#4A90E2"},{default:n(()=>[t(D)]),_:1}),o[9]||(o[9]=s("span",{class:"logo-text"},"学术成果分享平台",-1))]),s("div",ct,[t(V,{modelValue:v.value,"onUpdate:modelValue":o[1]||(o[1]=m=>v.value=m),placeholder:"搜索学者、著作、机构、概念...",size:"large",clearable:"",onKeyup:tt($,["enter"])},{prefix:n(()=>[t(r,null,{default:n(()=>[t(M)]),_:1})]),append:n(()=>[t(k,{type:"primary",onClick:$},{default:n(()=>[...o[10]||(o[10]=[l(" 搜索 ",-1)])]),_:1})]),_:1},8,["modelValue"])]),s("nav",ft,[t(L,{mode:"horizontal",ellipsis:!1,"default-active":S.value},{default:n(()=>[t(g,{index:"authors",onClick:o[2]||(o[2]=m=>a(e).push("/authors"))},{default:n(()=>[t(r,null,{default:n(()=>[t(x)]),_:1}),o[11]||(o[11]=s("span",null,"学者",-1))]),_:1}),t(g,{index:"works",onClick:o[3]||(o[3]=m=>a(e).push("/works"))},{default:n(()=>[t(r,null,{default:n(()=>[t(R)]),_:1}),o[12]||(o[12]=s("span",null,"著作",-1))]),_:1}),t(g,{index:"institutions",onClick:o[4]||(o[4]=m=>a(e).push("/institutions"))},{default:n(()=>[t(r,null,{default:n(()=>[t(U)]),_:1}),o[13]||(o[13]=s("span",null,"机构",-1))]),_:1}),t(g,{index:"concepts",onClick:o[5]||(o[5]=m=>a(e).push("/concepts"))},{default:n(()=>[t(r,null,{default:n(()=>[t(z)]),_:1}),o[14]||(o[14]=s("span",null,"概念",-1))]),_:1})]),_:1},8,["default-active"])]),s("div",vt,[a(p).isLoggedIn?(_(),f(b,{key:0},[t(F,{value:w.value,hidden:w.value===0,class:"message-badge"},{default:n(()=>[t(k,{circle:"",onClick:o[6]||(o[6]=m=>a(e).push("/user/messages"))},{default:n(()=>[t(r,null,{default:n(()=>[t(N)]),_:1})]),_:1})]),_:1},8,["value","hidden"]),t(G,{trigger:"click",onCommand:A},{dropdown:n(()=>[t(T,null,{default:n(()=>[t(c,{command:"profile"},{default:n(()=>[t(r,null,{default:n(()=>[t(x)]),_:1}),o[15]||(o[15]=l(" 个人中心 ",-1))]),_:1}),t(c,{command:"collections"},{default:n(()=>[t(r,null,{default:n(()=>[t(q)]),_:1}),o[16]||(o[16]=l(" 我的收藏 ",-1))]),_:1}),t(c,{command:"history"},{default:n(()=>[t(r,null,{default:n(()=>[t(H)]),_:1}),o[17]||(o[17]=l(" 浏览历史 ",-1))]),_:1}),a(p).isAdmin?(_(),rt(c,{key:0,command:"admin",divided:""},{default:n(()=>[t(r,null,{default:n(()=>[t(O)]),_:1}),o[18]||(o[18]=l(" 管理后台 ",-1))]),_:1})):at("",!0),t(c,{command:"logout",divided:""},{default:n(()=>[t(r,null,{default:n(()=>[t(j)]),_:1}),o[19]||(o[19]=l(" 退出登录 ",-1))]),_:1})]),_:1})]),default:n(()=>[s("div",kt,[t(K,{size:36,src:a(p).avatar},{default:n(()=>[l(B(a(p).nickname.charAt(0)),1)]),_:1},8,["src"]),s("span",gt,B(a(p).nickname),1),t(r,null,{default:n(()=>[t(h)]),_:1})])]),_:1})],64)):(_(),f(b,{key:1},[t(k,{type:"primary",onClick:o[7]||(o[7]=m=>a(e).push("/login"))},{default:n(()=>[...o[20]||(o[20]=[l("登录",-1)])]),_:1}),t(k,{onClick:o[8]||(o[8]=m=>a(e).push("/register"))},{default:n(()=>[...o[21]||(o[21]=[l("注册",-1)])]),_:1})],64))])])])}}},yt=y(wt,[["__scopeId","data-v-13692c66"]]),Ct={},$t={class:"app-footer"},xt={class:"footer-container"},Et={class:"footer-content"},bt={class:"footer-section"},Bt={class:"footer-section"};function St(C,e){const d=u("router-link");return _(),f("footer",$t,[s("div",xt,[s("div",Et,[e[9]||(e[9]=s("div",{class:"footer-section"},[s("h4",null,"关于平台"),s("p",null,"学术成果分享平台致力于为科研人员提供便捷的学术成果检索、分享与交流服务。")],-1)),s("div",bt,[e[4]||(e[4]=s("h4",null,"快速链接",-1)),s("ul",null,[s("li",null,[t(d,{to:"/authors"},{default:n(()=>[...e[0]||(e[0]=[l("学者检索",-1)])]),_:1})]),s("li",null,[t(d,{to:"/works"},{default:n(()=>[...e[1]||(e[1]=[l("著作检索",-1)])]),_:1})]),s("li",null,[t(d,{to:"/institutions"},{default:n(()=>[...e[2]||(e[2]=[l("机构检索",-1)])]),_:1})]),s("li",null,[t(d,{to:"/concepts"},{default:n(()=>[...e[3]||(e[3]=[l("研究概念",-1)])]),_:1})])])]),s("div",Bt,[e[8]||(e[8]=s("h4",null,"用户服务",-1)),s("ul",null,[s("li",null,[t(d,{to:"/user"},{default:n(()=>[...e[5]||(e[5]=[l("个人中心",-1)])]),_:1})]),s("li",null,[t(d,{to:"/user/collections"},{default:n(()=>[...e[6]||(e[6]=[l("我的收藏",-1)])]),_:1})]),s("li",null,[t(d,{to:"/user/applications"},{default:n(()=>[...e[7]||(e[7]=[l("申请记录",-1)])]),_:1})])])]),e[10]||(e[10]=s("div",{class:"footer-section"},[s("h4",null,"联系我们"),s("p",null,"邮箱：support@academic.edu.cn"),s("p",null,"地址：北京市海淀区学院路")],-1))]),e[11]||(e[11]=s("div",{class:"footer-bottom"},[s("p",null,"© 2025 学术成果分享平台 All Rights Reserved")],-1))])])}const At=y(Ct,[["render",St],["__scopeId","data-v-cf3faa1f"]]),It={class:"main-layout"},Dt={class:"main-content"},Mt={__name:"MainLayout",setup(C){return(e,d)=>{const p=u("router-view");return _(),f("div",It,[t(yt),s("main",Dt,[t(p)]),t(At)])}}},Ht=y(Mt,[["__scopeId","data-v-e55a9506"]]);export{Ht as default};
