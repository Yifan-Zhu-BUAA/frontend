import{_ as I}from"./_plugin-vue_export-helper-DRcqrMy4.js";/* empty css                   *//* empty css                  *//* empty css               *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                 *//* empty css                     *//* empty css                  */import{r as i,O as L,J as N,o as U,b as p,d as u,C as D,g as t,w as l,P,D as j,v as V,x as K,t as O,Q as H,F as J,B as M,L as Q,h as R,A as n,R as T,l as q,k as G,i as W,j as E,E as X,S as Y,N as Z}from"./index-COpeM2_A.js";import{A as $}from"./AuthorCard-BVasQjuV.js";import{g as ee}from"./author-CZ4S9Kiu.js";/* empty css                  */const te={class:"author-list-page page-container"},oe={class:"filter-section card"},ae={class:"author-list"},le={class:"list-header"},se={class:"total"},ne={key:0,class:"author-grid"},re={key:2,class:"pagination-wrapper"},ie={__name:"AuthorList",setup(ue){const v=i(!1),f=i([]),c=i(0),d=i(1),g=i(12),m=i(""),a=L({keyword:"",fields:""}),r=async()=>{var h,e;v.value=!0;try{const s=await ee({keyword:a.keyword,fields:a.fields,sort:m.value,page:d.value,size:g.value});f.value=((h=s.data)==null?void 0:h.list)||[],c.value=((e=s.data)==null?void 0:e.total)||0}catch(s){console.error("获取学者列表失败",s)}finally{v.value=!1}},k=()=>{d.value=1,r()},b=()=>{a.keyword="",a.fields="",d.value=1,r()};return N(m,()=>{r()}),U(()=>{r()}),(h,e)=>{const s=q,y=T,C=R("Search"),x=X,w=W,z=P,_=Y,S=H,A=Z,B=Q,F=j;return n(),p("div",te,[e[7]||(e[7]=u("div",{class:"page-header"},[u("h1",null,"学者列表"),u("p",null,"发现优秀学者，探索学术成果")],-1)),u("div",oe,[t(z,{inline:!0,model:a},{default:l(()=>[t(y,{label:"关键词"},{default:l(()=>[t(s,{modelValue:a.keyword,"onUpdate:modelValue":e[0]||(e[0]=o=>a.keyword=o),placeholder:"搜索学者姓名/研究方向",clearable:"",onKeyup:G(k,["enter"])},null,8,["modelValue"])]),_:1}),t(y,{label:"研究领域"},{default:l(()=>[t(s,{modelValue:a.fields,"onUpdate:modelValue":e[1]||(e[1]=o=>a.fields=o),placeholder:"输入研究领域",clearable:""},null,8,["modelValue"])]),_:1}),t(y,null,{default:l(()=>[t(w,{type:"primary",onClick:k},{default:l(()=>[t(x,null,{default:l(()=>[t(C)]),_:1}),e[5]||(e[5]=E(" 搜索 ",-1))]),_:1}),t(w,{onClick:b},{default:l(()=>[...e[6]||(e[6]=[E("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),D((n(),p("div",ae,[u("div",le,[u("span",se,"共 "+O(c.value)+" 位学者",1),t(S,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=o=>m.value=o),placeholder:"排序方式",style:{width:"160px"}},{default:l(()=>[t(_,{label:"默认排序",value:""}),t(_,{label:"H指数最高",value:"hIndex"}),t(_,{label:"著作最多",value:"worksCount"}),t(_,{label:"引用最多",value:"cited"})]),_:1},8,["modelValue"])]),f.value.length?(n(),p("div",ne,[(n(!0),p(J,null,M(f.value,o=>(n(),V($,{key:o.id,author:o},null,8,["author"]))),128))])):(n(),V(A,{key:1,description:"暂无数据"})),c.value>0?(n(),p("div",re,[t(B,{"current-page":d.value,"onUpdate:currentPage":e[3]||(e[3]=o=>d.value=o),"page-size":g.value,"onUpdate:pageSize":e[4]||(e[4]=o=>g.value=o),total:c.value,"page-sizes":[12,24,48],layout:"total, sizes, prev, pager, next, jumper",background:"",onSizeChange:r,onCurrentChange:r},null,8,["current-page","page-size","total"])])):K("",!0)])),[[F,v.value]])])}}},be=I(ie,[["__scopeId","data-v-62cd275a"]]);export{be as default};
