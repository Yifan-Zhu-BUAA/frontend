import{_ as S}from"./_plugin-vue_export-helper-DRcqrMy4.js";/* empty css                   *//* empty css                  *//* empty css               *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                 *//* empty css                     *//* empty css                  */import{r as p,O as b,o as F,b as c,d as s,C as L,g as e,w as i,P as N,D,v as h,x as P,t as U,F as j,B as K,L as A,h as M,A as n,R as O,l as R,k as T,i as q,j as w,E as G,N as H}from"./index-COpeM2_A.js";import{I as J}from"./InstitutionCard-BRu9531G.js";import{g as Q}from"./institution-CYNKooG5.js";/* empty css                        */const W={class:"institution-list-page page-container"},X={class:"filter-section card"},Y={class:"institution-list"},Z={class:"list-header"},$={class:"total"},tt={key:0,class:"institution-grid"},et={key:2,class:"pagination-wrapper"},ot={__name:"InstitutionList",setup(nt){const m=p(!1),_=p([]),d=p(0),l=p(1),v=p(12),r=b({keyword:""}),u=async()=>{var g,t;m.value=!0;try{const a=await Q({keyword:r.keyword,page:l.value,size:v.value});_.value=((g=a.data)==null?void 0:g.list)||[],d.value=((t=a.data)==null?void 0:t.total)||0}catch(a){console.error("获取机构列表失败",a)}finally{m.value=!1}},f=()=>{l.value=1,u()},C=()=>{r.keyword="",l.value=1,u()};return F(()=>{u()}),(g,t)=>{const a=R,y=O,E=M("Search"),I=G,k=q,z=N,x=H,V=A,B=D;return n(),c("div",W,[t[5]||(t[5]=s("div",{class:"page-header"},[s("h1",null,"机构列表"),s("p",null,"了解各研究机构及其学术成果")],-1)),s("div",X,[e(z,{inline:!0,model:r},{default:i(()=>[e(y,{label:"关键词"},{default:i(()=>[e(a,{modelValue:r.keyword,"onUpdate:modelValue":t[0]||(t[0]=o=>r.keyword=o),placeholder:"搜索机构名称",clearable:"",onKeyup:T(f,["enter"])},null,8,["modelValue"])]),_:1}),e(y,null,{default:i(()=>[e(k,{type:"primary",onClick:f},{default:i(()=>[e(I,null,{default:i(()=>[e(E)]),_:1}),t[3]||(t[3]=w("搜索 ",-1))]),_:1}),e(k,{onClick:C},{default:i(()=>[...t[4]||(t[4]=[w("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),L((n(),c("div",Y,[s("div",Z,[s("span",$,"共 "+U(d.value)+" 个机构",1)]),_.value.length?(n(),c("div",tt,[(n(!0),c(j,null,K(_.value,o=>(n(),h(J,{key:o.id,institution:o},null,8,["institution"]))),128))])):(n(),h(x,{key:1,description:"暂无数据"})),d.value>0?(n(),c("div",et,[e(V,{"current-page":l.value,"onUpdate:currentPage":t[1]||(t[1]=o=>l.value=o),"page-size":v.value,"onUpdate:pageSize":t[2]||(t[2]=o=>v.value=o),total:d.value,"page-sizes":[12,24,48],layout:"total, sizes, prev, pager, next, jumper",background:"",onSizeChange:u,onCurrentChange:u},null,8,["current-page","page-size","total"])])):P("",!0)])),[[B,m.value]])])}}},yt=S(ot,[["__scopeId","data-v-848304f7"]]);export{yt as default};
