import{_ as U}from"./_plugin-vue_export-helper-DRcqrMy4.js";/* empty css                   *//* empty css                 *//* empty css               *//* empty css                        */import{r as p,o as $,C as I,D as j,b as r,x as i,d as e,v as d,w as l,g as u,t as c,G,F as f,B as g,Y as H,a as M,X as R,E as S,h as N,A as a,j as k,Z as X,N as Y}from"./index-COpeM2_A.js";import{W as Z}from"./WorkCard-BKm7B0rv.js";import{a as q,b as J}from"./concept-BRVEIubn.js";const K={class:"concept-detail-page page-container"},O={key:0,class:"concept-profile card"},P={class:"profile-header"},Q={class:"concept-icon"},ee={class:"profile-info"},te={key:0,class:"concept-desc"},se={class:"profile-stats"},oe={class:"stat-item"},ae={class:"stat-value"},ne={class:"stat-item"},re={class:"stat-value"},le={class:"stat-item"},ce={class:"stat-value"},ie={key:1,class:"related-concepts"},de={class:"concepts-tags"},ue={key:2,class:"ancestor-concepts"},_e={key:1,class:"concept-works card"},pe={class:"works-grid"},ve={__name:"ConceptDetail",setup(me){const y=M(),v=p(!1),_=p(!1),t=p(null),m=p([]),D=async()=>{v.value=!0;try{const s=await q(y.params.id);t.value=s.data}catch(s){console.error("获取概念信息失败",s)}finally{v.value=!1}},L=async()=>{var s;_.value=!0;try{const o=await J(y.params.id,{page:1,size:12});m.value=((s=o.data)==null?void 0:s.list)||[]}catch(o){console.error("获取著作失败",o)}finally{_.value=!1}},F=s=>s<=1?"danger":s<=2?"warning":"primary",h=s=>s?s>=1e4?(s/1e4).toFixed(1)+"w":s>=1e3?(s/1e3).toFixed(1)+"k":s:0;return $(()=>{D(),L()}),(s,o)=>{var x,B;const C=N("Connection"),w=S,V=R,W=G,b=N("router-link"),z=X,A=H,T=Y,E=j;return I((a(),r("div",K,[t.value?(a(),r("div",O,[e("div",P,[e("div",Q,[t.value.imageUrl?(a(),d(V,{key:0,src:t.value.imageUrl,fit:"cover"},{error:l(()=>[u(w,{size:48,color:"#4A90E2"},{default:l(()=>[u(C)]),_:1})]),_:1},8,["src"])):(a(),d(w,{key:1,size:48,color:"#4A90E2"},{default:l(()=>[u(C)]),_:1}))]),e("div",ee,[e("h1",null,c(t.value.name),1),u(W,{type:F(t.value.level)},{default:l(()=>[k("Level "+c(t.value.level),1)]),_:1},8,["type"])])]),t.value.description?(a(),r("p",te,c(t.value.description),1)):i("",!0),e("div",se,[e("div",oe,[e("span",ae,c(h(t.value.worksCount)),1),o[0]||(o[0]=e("span",{class:"stat-label"},"相关著作",-1))]),e("div",ne,[e("span",re,c(h(t.value.citedByCount)),1),o[1]||(o[1]=e("span",{class:"stat-label"},"被引用",-1))]),e("div",le,[e("span",ce,c(t.value.hIndex||0),1),o[2]||(o[2]=e("span",{class:"stat-label"},"H指数",-1))])]),(x=t.value.relatedConcepts)!=null&&x.length?(a(),r("div",ie,[o[3]||(o[3]=e("h4",null,"相关概念",-1)),e("div",de,[(a(!0),r(f,null,g(t.value.relatedConcepts,n=>(a(),d(b,{key:n.id,to:`/concepts/${n.id}`,class:"concept-tag"},{default:l(()=>[k(c(n.name),1)]),_:2},1032,["to"]))),128))])])):i("",!0),(B=t.value.ancestors)!=null&&B.length?(a(),r("div",ue,[o[4]||(o[4]=e("h4",null,"上位概念",-1)),u(A,{separator:"/"},{default:l(()=>[(a(!0),r(f,null,g(t.value.ancestors,n=>(a(),d(z,{key:n.id},{default:l(()=>[u(b,{to:`/concepts/${n.id}`},{default:l(()=>[k(c(n.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})])):i("",!0)])):i("",!0),t.value?(a(),r("div",_e,[o[5]||(o[5]=e("h3",{class:"section-title"},"相关著作",-1)),I((a(),r("div",pe,[(a(!0),r(f,null,g(m.value,n=>(a(),d(Z,{key:n.workId,work:n},null,8,["work"]))),128))])),[[E,_.value]]),!m.value.length&&!_.value?(a(),d(T,{key:0,description:"暂无相关著作"})):i("",!0)])):i("",!0)])),[[E,v.value]])}}},Ee=U(ve,[["__scopeId","data-v-ae76c0e7"]]);export{Ee as default};
